<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="mapper-lx.gymproject.springboot.dao.GymMachineDAO">
<!-- 운동기구 리스트 -->
<select id="getMachineList"
	resultType="lx.gymproject.springboot.vo.GymMachineVO">
	select machine_id , machine_name , machine_purchase_date , machine_price,
	machine_service_contact , machine_img , machine_video from
	gym_machine;
</select>

<!-- 기구 수정 -->
<update id="updateMachine"
	parameterType="lx.gymproject.springboot.vo.GymMachineVO">
	update gym_machine
	<trim prefix="SET">
		<if test="machineName != null"> machine_name = #{machineName},</if>
		<if test="machinePurchaseDate != null"> machine_purchase_date = #{machinePurchaseDate},</if>
		<if test="machinePrice != null"> machine_price = #{machinePrice},</if>
		<if test="machineServiceContact != null"> machine_service_contact = #{machineServiceContact},</if>
		<if test="machineImg != null"> machine_img = #{machineImg}</if>
	</trim>
	where machine_id = #{machineId}
</update>

<!-- 기구 하나 체크해서 가져오기 -->
<select id="getMachine" parameterType="int"
	resultType="lx.gymproject.springboot.vo.GymMachineVO">
	select machine_id
	, machine_name
	, machine_purchase_date
	, machine_price
	, machine_service_contact
	, machine_img
	, machine_video from gym_machine where machine_id = #{machineId};
</select>

<!-- 기구 하나 추가하기 -->
<insert id="insertMachine"
	parameterType="lx.gymproject.springboot.vo.GymMachineVO">
	insert into gym_machine(machine_name, machine_purchase_date, machine_price,
	machine_service_contact, machine_img, machine_video)
	values(#{machineName}, #{machinePurchaseDate}, #{machinePrice}, #{
	machineServiceContact}, #{machineImg}, #{machineVideo})
</insert>

<!-- 기구 하나 삭제하기 -->
<delete id="deleteMachine" parameterType="int">
	delete from gym_machine where machine_id = #{machineId}
</delete>

</mapper>